{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/person.js","App.js","index.js"],"names":["Persons","filtered","deleteName","map","person","key","id","name","number","onClick","PersonForm","addInfo","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","newSearch","handleSearchChange","baseUrl","axios","get","then","response","data","object","post","delete","put","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","notificationMessage","setNotificationMessage","useEffect","personService","p","filter","toLowerCase","includes","info","catch","error","console","log","finally","setTimeout","event","target","preventDefault","find","some","toLocaleLowerCase","window","confirm","d","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+OAkBeA,EAhBC,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,WAE3B,OACI,6BACGD,EAASE,KAAI,SAAAC,GAAM,OACpB,yBAAKC,IAAKD,EAAOE,IACf,2BACGF,EAAOG,KADV,IACiBH,EAAOI,QAExB,4BAAQC,QAAS,kBAAMP,EAAWE,KAAlC,gBCaKM,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,QACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,mBAEA,OACE,0BAAMC,SAAUL,GACd,sCACQ,2BAAOM,MAAOL,EAASM,SAAUJ,KAEzC,wCACU,2BAAOG,MAAOJ,EAAWK,SAAUH,KAE7C,6BACE,4BAAQI,KAAK,UAAb,UCPOC,EATA,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBAC3B,OACE,iDACoB,IAClB,2BAAOL,MAAOI,EAAWH,SAAUI,M,gBCJnCC,EAAU,oCAqBD,EAnBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAiB9B,EAdA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAY9B,EATA,SAACtB,GAEd,OADgBkB,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BjB,IAC5BoB,MAAK,SAACC,GAAD,OAAcA,MAOrB,EALA,SAACrB,EAAIuB,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBjB,GAAMuB,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SCdvCK,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAEF,yBAAKC,UAAU,WAAWD,IAqGpBE,EAlGH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETzB,EAFS,KAEA4B,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTxB,EAHS,KAGE4B,EAHF,OAIkBJ,mBAAS,IAJ3B,mBAIThB,EAJS,KAIEqB,EAJF,OAKsCL,mBAAS,MAL/C,mBAKTM,EALS,KAKYC,EALZ,KAqBhBC,qBAAU,WACRC,IAAuBpB,MAAK,SAACqB,GAAD,OAAOR,EAAWQ,QAC7C,IAEH,IAIM9C,EAAyB,KAAdoB,EAAmBiB,EAAUA,EAAQU,QAAO,SAAC5C,GAAD,OAC3DA,EAAOG,KAAK0C,cAAcC,SAAS7B,EAAU4B,kBAoCzCE,EAAO,WAEXL,EADkB,CAAEvC,KAAMK,EAASJ,OAAQK,IACXa,MAAK,SAACqB,GACpCR,EAAWQ,MAEZK,OAAM,SAAAC,GAAUT,EAAuB,GAAD,OAAIhC,EAAJ,sCAAiD0C,QAAQC,IAAIF,EAAMzB,SACzG4B,SAAQ,WACPZ,EAAuB,SAAD,OAAUhC,IAChC6C,YAAW,WACTb,EAAuB,QACtB,UAGP,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcV,QAASS,IACvB,kBAAC,EAAD,CAAQtB,UAAWA,EAAWC,mBA1DP,SAACoC,GAC1BhB,EAAagB,EAAMC,OAAO1C,UA0DxB,uCACA,kBAAC,EAAD,CACEN,QArDU,SAAC+C,GACfA,EAAME,iBACN,IAAMxD,EAASkC,EAAQuB,MACrB,SAACzD,GAAD,OAAYA,EAAOG,KAAK0C,gBAAkBrC,EAAQqC,iBAGlDX,EAAQwB,MAAK,SAACf,GAAD,OAAOA,EAAExC,KAAK0C,gBAAkBrC,EAAQmD,uBAErDC,OAAOC,QAAP,UACKrD,EADL,2EAGIkC,EACU1C,EAAOE,GADjB,eAC0BF,EAD1B,CACkCI,OAAQK,KACvCa,MAAK,SAACwC,GAAD,OACJ3B,EACED,EAAQnC,KAAI,SAACC,GAAD,OAAaA,EAAOE,KAAO4D,EAAE5D,GAAKF,EAAS8D,SAG1DV,SAAQ,WACPZ,EAAuB,WAAD,OAAYxC,EAAOG,OACzCkD,YAAW,WACTb,EAAuB,QACtB,SAEPU,QAAQC,MAEZJ,IAGFX,EAAW,IACXC,EAAa,KAwBT7B,QAASA,EACTC,UAAWA,EACXC,iBAlFmB,SAAC4C,GACxBlB,EAAWkB,EAAMC,OAAO1C,QAkFpBF,mBAhFqB,SAAC2C,GAC1BjB,EAAaiB,EAAMC,OAAO1C,UAiFxB,uCACA,kBAAC,EAAD,CAAShB,SAAUA,EAAUC,WAhFd,SAACE,GAClB4D,OAAOC,QAAP,iBAAyB7D,EAAOG,KAAhC,MACIuC,EACU1C,EAAOE,IACdoB,OACA8B,SAAQ,kBAAMV,IAAuBpB,MAAK,SAACqB,GAAD,OAAOR,EAAWQ,SAC/DO,QAAQC,WC1BhBY,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.ae5ecf9f.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Persons = ({ filtered, deleteName }) => {\n  // console.log(filter);\n  return (\n      <div>\n        {filtered.map(person => (\n        <div key={person.id}>\n          <p>\n            {person.name} {person.number}\n          </p>\n          <button onClick={() => deleteName(person)}>delete</button>\n        </div>\n        ))}\n      </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addInfo,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addInfo}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = ({ newSearch, handleSearchChange }) => {\n  return (\n    <div>\n      filter shown with{\" \"}\n      <input value={newSearch} onChange={handleSearchChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\n\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (object) => {\n  const request = axios.post(baseUrl, object);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response);\n};\nconst update = (id, object) => {\n  const request = axios.put(`${baseUrl}/${id}`, object);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personService from \"./services/person\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"success\">{message}</div>;\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const deleteName = (person) => {\n    window.confirm(`delete ${person.name}?`)\n      ? personService\n          .remove(person.id)\n          .then()\n          .finally(() => personService.getAll().then((p) => setPersons(p)))\n      : console.log();\n  };\n  useEffect(() => {\n    personService.getAll().then((p) => setPersons(p));\n  }, []);\n  // console.log(persons)\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value);\n  };\n  // console.log(newSearch)\n  const filtered = newSearch === \"\" ? persons : persons.filter((person) =>\n    person.name.toLowerCase().includes(newSearch.toLowerCase())\n  );\n  // console.log(filter)\n  const addInfo = (event) => {\n    event.preventDefault();\n    const person = persons.find(\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\n    );\n    if (\n      persons.some((p) => p.name.toLowerCase() === newName.toLocaleLowerCase())\n    ) {\n      window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      )\n        ? personService\n            .update(person.id, { ...person, number: newNumber })\n            .then((d) =>\n              setPersons(\n                persons.map((person) => (person.id !== d.id ? person : d))\n              )\n            )\n            .finally(() => {\n              setNotificationMessage(`Changed ${person.name}`)\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 3500)\n            })\n        : console.log();\n    } else {\n      info();\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const info = () => {\n    const newObject = { name: newName, number: newNumber };\n    personService.create(newObject).then((p) => {\n      setPersons(p)\n    })\n    .catch(error => {setNotificationMessage(`${newName} has been removed from the server`); console.log(error.data)})\n    .finally(() => {\n      setNotificationMessage(`Added ${newName}`)\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 3500)\n    });\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage}/>\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange} />\n      <h2>add new</h2>\n      <PersonForm\n        addInfo={addInfo}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons filtered={filtered} deleteName={deleteName} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}